<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Discover New Stock Insights from Earnings Calls - Browse stockrabit</title>
    <link rel="icon" href="{{ url_for('static', filename='images/logo-stbit.png') }}" type="image/x-icon">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-5DF5GL4LB5"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-5DF5GL4LB5');
    </script>
    <meta name="description" content="Company Index">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
    <style>
        :root {
            --primary-green: #18994e;
            --primary-purple: #6a198a;
            --text-color: #333333;
            --secondary-text-color: #666666;
            --background-color: #f8f9fa;
            --border-color: #e0e0e0;
            --card-background: #ffffff;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
            font-size: 14px;
            padding-top: 50px;
        }

        .navbar {
            background-color: #ffffff;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            height: 50px;
            padding: 0 15px;
        }

        .navbar-brand {
            font-weight: 600;
            color: var(--primary-green) !important;
            display: flex;
            align-items: center;
        }

        .navbar-brand img {
            height: 25px;
            width: 30px;
            margin-right: 10px;
        }

        .btn-sign-up {
            background-color: var(--primary-green);
            color: white;
            border-radius: 20px;
            padding: 0.25rem 1rem;
            font-size: 14px;
        }

        .company-tabs-container {
            position: sticky;
            top: 50px;
            background-color: var(--background-color);
            z-index: 1000;
            transition: all 0.3s ease;
            border-bottom: 1px solid var(--border-color);
            width: 100%;
        }

        .company-tabs {
            display: flex;
            padding: 0;
            margin: 0;
            list-style-type: none;
        }

        .company-tabs .nav-link {
            color: var(--text-color);
            text-decoration: none;
            font-weight: 600;
            padding: 10px 20px;
            position: relative;
            transition: all 0.3s ease;
        }

        .company-tabs .nav-link::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background-color: var(--primary-green);
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }

        .company-tabs .nav-link.active::after {
            transform: scaleX(1);
        }

        .card {
            background-color: var(--card-background);
            border: none;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 1rem;
            transition: all 0.3s ease;
        }

        .card:hover {
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
            transform: translateY(-2px);
        }

        .card-header {
            background-color: transparent;
            border-bottom: 1px solid var(--border-color);
            padding: 1rem;
        }

        .card-title {
            color: var(--primary-purple);
            font-weight: 600;
            margin: 0;
            font-size: 1.1rem;
        }

        .list-group-item {
            border: none;
            padding: 0.5rem 1rem;
            font-size: 14px;
        }

        .list-group-item a {
            color: var(--text-color);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .list-group-item a:hover {
            color: var(--primary-green);
        }

        .section-title {
            color: var(--primary-purple);
            font-weight: 600;
            margin-bottom: 1.5rem;
            padding-left: 1rem;
            border-left: 4px solid var(--primary-purple);
        }

        footer {
            background-color: #212529;
            color: white;
            padding: 2rem 0;
            margin-top: 3rem;
        }

        #madeWithLove {
            text-align: center;
            padding: 1rem 0;
            background-color: #212529;
        }

        #madeWithLove a {
            color: white;
            text-decoration: none;
        }

        .btn-primary {
            background-color: var(--primary-green);
            border-color: var(--primary-green);
            border-radius: 20px;
            padding: 0.375rem 1.5rem;
            font-size: 14px;
        }

        .btn-primary:hover {
            background-color: #147a3f;
            border-color: #147a3f;
        }

        @media (max-width: 768px) {
            .company-tabs {
                overflow-x: auto;
                white-space: nowrap;
            }
        }
        .card {
    transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
    border: 1px solid var(--border-color);
}

.horizontal-scroll-container {
    position: relative;
    padding: 0 20px;
}

.horizontal-scroll-wrapper {
    display: flex;
    overflow-x: auto;
    gap: 20px;
    padding: 20px 0;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none; /* Firefox */
}

.horizontal-scroll-wrapper::-webkit-scrollbar {
    display: none; /* Chrome, Safari, Edge */
}

.scroll-item {
    flex: 0 0 auto;
    width: 300px;
}

.fade-edge-left, .fade-edge-right {
    position: absolute;
    top: 0;
    bottom: 0;
    width: 50px;
    pointer-events: none;
    z-index: 1;
}

.fade-edge-left {
    left: 0;
    background: linear-gradient(to right, var(--background-color) 0%, transparent 100%);
}

.fade-edge-right {
    right: 0;
    background: linear-gradient(to left, var(--background-color) 0%, transparent 100%);
}

#recently-added .card {
    border: 1px solid var(--border-color);
    border-radius: 8px;
    transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
    height: 100%;
}

#recently-added .card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}

.company-name {
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--primary-purple);
}

.quarter-info {
    font-size: 0.9rem;
}

.executive-summary {
    font-size: 0.85rem;
    color: var(--secondary-text-color);
    margin-bottom: 0;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis;
}

.scroll-arrow {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.8);
    border: 1px solid var(--border-color);
    color: var(--primary-purple);
    font-size: 1.2rem;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    z-index: 2;
    opacity: 0;
    transition: opacity 0.3s ease, background-color 0.3s ease;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.scroll-arrow:hover {
    background: rgba(255, 255, 255, 0.95);
}

.scroll-left {
    left: 10px;
}

.scroll-right {
    right: 10px;
}

.horizontal-scroll-container:hover .scroll-arrow {
    opacity: 1;
}

/* Hide arrows if no scroll possible */
.scroll-arrow.hidden {
    display: none;
}
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="/">
                <img src="/static/images/logo-stbit.png" alt="stockrabit logo">
                <span>stockrabit</span>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="/about">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/other-links">Other Links</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link btn btn-sign-up" href="/signup">Sign Up</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="company-tabs-container">
        <ul class="company-tabs" role="tablist">
            <li class="nav-item" role="presentation">
                <a class="nav-link active" href="#recently-added">Recently Added</a>
            </li>
            <li class="nav-item" role="presentation">
                <a class="nav-link" href="#indices">Indices</a>
            </li>
            <li class="nav-item" role="presentation">
                <a class="nav-link" href="#market-cap">Market Cap</a>
            </li>
            <li class="nav-item" role="presentation">
                <a class="nav-link" href="#sectors">Sectors</a>
            </li>
        </ul>
    </div>

    <main class="container mt-4">
        <section id="recently-added" class="section mb-5">
            <h2 class="section-title">Recently Updated Results</h2>
            <div class="horizontal-scroll-container">
                <button class="scroll-arrow scroll-left" aria-label="Scroll left">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <div class="horizontal-scroll-wrapper">
                    {% for transcript in company_data.recently_updated %}
                    <div class="scroll-item">
                        <a href="/company/{{ transcript.company_name }}" class="text-decoration-none">
                            <div class="card">
                                <div class="card-body">
                                    <h5 class="company-name text-purple mb-2">{{ transcript.company_name }}</h5>
                                    <div class="quarter-info text-muted mb-2">
                                        {{ transcript.quarter }} {{ transcript.financial_year }} - {{ transcript.date.strftime('%Y-%m-%d') if transcript.date else '' }}
                                    </div>
                                    <!-- <p class="executive-summary">
                                        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                                    </p> -->
                                </div>
                            </div>
                        </a>
                    </div>
                    {% endfor %}
                </div>
                <button class="scroll-arrow scroll-right" aria-label="Scroll right">
                    <i class="fas fa-chevron-right"></i>
                </button>
                <div class="fade-edge-left"></div>
                <div class="fade-edge-right"></div>
            </div>
        </section>

        <section id="indices" class="section mb-5">
            <h2 class="section-title">Indices</h2>
            <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
                {% for index in company_data.indices %}
                <div class="col">
                    <div class="card">
                        <div class="card-header">
                            <h5 class="card-title">{{ index }}</h5>
                        </div>
                        <ul class="list-group list-group-flush">
                            {% for company in company_data.indices_companies[index][:15] %}
                            <li class="list-group-item">
                                <a href="/company/{{ company }}">{{ company }}</a>
                            </li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>
                {% endfor %}
            </div>
        </section>

        <section id="market-cap" class="section mb-5">
            <h2 class="section-title">Market Cap</h2>
            <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
                {% for cap in company_data.market_cap %}
                <div class="col">
                    <div class="card">
                        <div class="card-header">
                            <h5 class="card-title">{{ cap }}</h5>
                        </div>
                        <ul class="list-group list-group-flush">
                            {% for company in company_data.market_cap_companies[cap][:15] %}
                            <li class="list-group-item">
                                <a href="/company/{{ company }}">{{ company }}</a>
                            </li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>
                {% endfor %}
            </div>
        </section>

        <section id="sectors" class="section mb-5">
            <h2 class="section-title">Sectors</h2>
            <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
                {% for sector in company_data.sectors %}
                <div class="col">
                    <div class="card">
                        <div class="card-header">
                            <h5 class="card-title">{{ sector }}</h5>
                        </div>
                        <ul class="list-group list-group-flush">
                            {% for company in company_data.sector_companies[sector][:15] %}
                            <li class="list-group-item">
                                <a href="/company/{{ company }}">{{ company }}</a>
                            </li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>
                {% endfor %}
            </div>
        </section>
    </main>

    <footer class="bg-dark text-white">
        <div class="container">
            <div class="row">
                <div class="col-md-4 mb-4 mb-md-0">
                    <h3 class="text-secondary font-weight-bold mb-4">stockrabit</h3>
                    <p>Empowering fundamental investors with insights for informed decision-making.</p>
                </div>
                <div class="col-md-4 mb-4 mb-md-0">
                    <h4 class="text-secondary font-weight-bold mb-4">Quick Links</h4>
                    <ul class="list-unstyled">
                        <li class="mb-2"><a href="/" class="text-white">Home</a></li>
                        <li class="mb-2"><a href="#features" class="text-white">Features</a></li>
                        <li class="mb-2"><a href="#demo" class="text-white">Demo</a></li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <h4 class="text-secondary font-weight-bold mb-4">Contact</h4>
                    <p>Email: info@stockrabit.com</p>
                </div>
            </div>
        </div>
        <div id="madeWithLove" class="text-center mt-4">
            <a href="/about" class="text-decoration-none">
                Made with ❤️ in the ❤️ of India
            </a>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const tabs = document.querySelectorAll('.company-tabs .nav-link');
            const container = document.querySelector('.horizontal-scroll-wrapper');
    const leftArrow = document.querySelector('.scroll-left');
    const rightArrow = document.querySelector('.scroll-right');
    
    // Scroll amount for each arrow click
    const scrollAmount = 300;

    // Function to check scroll position and update arrow visibility
    function updateArrowVisibility() {
        // Show/hide left arrow
        if (container.scrollLeft > 0) {
            leftArrow.classList.remove('hidden');
        } else {
            leftArrow.classList.add('hidden');
        }

        // Show/hide right arrow
        if (container.scrollLeft < (container.scrollWidth - container.clientWidth)) {
            rightArrow.classList.remove('hidden');
        } else {
            rightArrow.classList.add('hidden');
        }
    }

    // Initial check
    updateArrowVisibility();

    // Scroll handlers
    leftArrow.addEventListener('click', () => {
        container.scrollBy({
            left: -scrollAmount,
            behavior: 'smooth'
        });
    });

    rightArrow.addEventListener('click', () => {
        container.scrollBy({
            left: scrollAmount,
            behavior: 'smooth'
        });
    });

    // Update arrow visibility on scroll
    container.addEventListener('scroll', updateArrowVisibility);

    // Update arrow visibility on window resize
    window.addEventListener('resize', updateArrowVisibility);
            
    tabs.forEach(tab => {
        tab.addEventListener('click', function(e) {
            e.preventDefault();
            tabs.forEach(t => t.classList.remove('active'));
            this.classList.add('active');
            
            const targetId = this.getAttribute('href').substring(1);
            const targetElement = document.getElementById(targetId);
            const headerOffset = 100;
            const elementPosition = targetElement.getBoundingClientRect().top;
            const offsetPosition = elementPosition + window.pageYOffset - headerOffset;

            window.scrollTo({
                top: offsetPosition,
                behavior: 'smooth'
            });
        });
    });

    // Intersection Observer for section visibility
    const sections = document.querySelectorAll('.section');
    const observerOptions = {
        root: null,
        rootMargin: '-100px 0px 0px 0px',
        threshold: 0.1
    };

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const id = entry.target.getAttribute('id');
                tabs.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href') === `#${id}`) {
                        link.classList.add('active');
                    }
                });
            }
        });
    }, observerOptions);

    sections.forEach(section => {
        observer.observe(section);
    });
        });
    </script>
</body>
</html>